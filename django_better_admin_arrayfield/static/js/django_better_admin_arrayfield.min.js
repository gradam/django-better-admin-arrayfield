window.addEventListener("load",function(){let i=1;function d(e){e.querySelectorAll(".remove").forEach(e=>{e.addEventListener("click",()=>{e.parentNode.remove()})})}function n(e){const t=e.querySelector(".array-item"),a=t.cloneNode(!0),o=t.parentElement;t.getAttribute("data-isNone")&&(t.remove(),a.removeAttribute("data-isNone"),a.removeAttribute("style")),d(e),e.querySelector(".add-array-item").addEventListener("click",()=>{i++;const e=a.cloneNode(!0),t=e.querySelectorAll("input, textarea, select")[0];if(t){const n=t.getAttribute("id").split("_");var r=n.slice(0,-1).join("_")+"_"+String(i-1);t.setAttribute("id",r),t.value="",d(e),o.appendChild(e)}else console.warn("Django better admin array field - can' find correct form element - expect input or textarea as custom widget implementation")})}django.jQuery(".dynamic-array-widget").not(".empty-form .dynamic-array-widget").each((e,t)=>n(t)),django.jQuery(document).on("formset:added",function(e,t,r){t[0].querySelectorAll(".dynamic-array-widget").forEach(e=>n(e))})});
